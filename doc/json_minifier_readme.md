# JSON 圧縮ツール（JSON Minifier）

このツールは、JSON ファイルのインデントを削除して圧縮形式に変換するスクリプトです。
指定したフォルダ内のすべての JSON ファイルを処理し、新しいフォルダに保存します。

## 機能

- 指定したフォルダ内のすべての JSON ファイルを検出
- インデントを削除した圧縮形式に JSON を変換
- 元のフォルダ名に「\_min」を追加した新しいフォルダに保存
- サブフォルダ構造を維持
- 処理の進行状況と圧縮率を表示

## 必要環境

- Python 3.6 以上

## インストール

このスクリプトは追加のパッケージをインストールする必要がなく、標準ライブラリのみで動作します。

## 使い方

コマンドラインから以下のように実行します：

```bash
python src/json_minifier.py <対象フォルダパス>
```

### 例

```bash
python src/json_minifier.py ./json
```

この例では、`./json`フォルダ内のすべての JSON ファイルを処理し、`./json_min`フォルダに圧縮された JSON ファイルを保存します。

## 処理の流れ

1. 指定されたフォルダの存在を確認
2. 「元のフォルダ名\_min」という名前の新しいフォルダを作成
   - 同名のフォルダが既に存在する場合は上書きの確認あり
3. 元のフォルダとサブフォルダから全 JSON ファイルを検出
4. 各 JSON ファイルを処理：
   - JSON データを読み込み
   - インデントを削除して保存
   - 元のファイルと同じ相対パスで保存
5. 処理結果（ファイル数、エラー数、圧縮率）を表示

## 圧縮方法

JSON の圧縮は以下の方法で行われます：

1. すべてのインデント（スペース・タブ）を削除
2. 項目間の区切り文字をコンパクトにする（`separators=(',', ':')` オプションを使用）
3. 日本語などの Unicode 文字はそのまま保持（`ensure_ascii=False` オプションを使用）

## メリット

- ファイルサイズの削減（通常 20〜80%程度の圧縮率）
- 処理速度の向上（特に大規模な JSON ファイルの場合）
- ストレージ容量の節約
- 読み込み・送信時間の短縮

## 注意事項

- 圧縮された JSON ファイルは人間が読みやすい形式ではなくなりますが、プログラムでの処理には問題ありません
- 既存の「\_min」フォルダがある場合は上書きされます（確認ダイアログあり）
- 大量の JSON ファイルを処理する場合は時間がかかる場合があります

## エラー処理

- 存在しないフォルダを指定した場合はエラーメッセージを表示
- JSON ファイルの読み込みや変換に失敗した場合は該当ファイルをスキップして処理を継続
- 発生したエラーの数が結果表示に含まれます

## ライセンス

このツールは自由に使用・改変・再配布が可能です。
